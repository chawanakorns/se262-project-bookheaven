<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"/>
    <link rel="stylesheet" href="css/index.css" />
    <script src="https://kit.fontawesome.com/285cca5c8c.js" crossorigin="anonymous"></script>
    <title>Document</title>
  </head>


<%- include('partials/navbar'); %>


<div class="container py-4" >
    <div id="carouselExampleIndicators" class="carousel slide py-4" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner" id="firstList">
        <div class="carousel-item active">
          <img src="assets/Ads-banner-1.png" class="d-block w-100" alt="..." id="banner">
        </div>
        <div class="carousel-item">
          <img src="assets/Ads-banner-2.png" class="d-block w-100" alt="..." id="banner">
        </div>
        <div class="carousel-item">
          <img src="assets/Ads-banner-3.png" class="d-block w-100" alt="..." id="banner">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>



  <div class="container py-4 carousel-slider">
    <hr class="bg-mute border-2 border-top border-mute" />
    <div class="row gy-4">
      <div class="col-12">
        <div>
          <h5 class="" >Best Seller <a href="#" class="h6 text-primary" style="float: right">View all></a> </h5>
        </div>
      </div>
      <div id="myCarousel1" class="carousel slide container"  data-bs-interval="100000" data-bs-ride="carousel">
        <div class="carousel-inner w-100">
            <% BestSale.forEach((item , index) => { %>
                <div class="carousel-item <%= index === 0 ? 'active' : '' %>" data-bs-interval="false">
                <div class="col-4 col-lg-2">
                  <a href="/product?bookID=<%= encodeURIComponent(item.product_id) %>&productName=<%= encodeURIComponent(item.product_name) %>" class="text-dark" style="text-decoration: none;">
                    <div class="card border-0 position-relative" >
                      <img src="<%= item.Path %>" class="card-img-top" alt="...">
                      <% if (item.product_price_promotion !== '0.00') { %>
                          <div class="sale-div position-absolute badge badge-success  p-2 m-2">Sale!</div><% } %>
                      <div class="card-body px-0">
                          <h6 class="card-title text"><%= item.product_name %></h6>
                          <div class="stars">
                              <i class="fa fa-star"></i>
                              <i class="fa fa-star"></i>
                              <i class="fa fa-star"></i>
                              <i class="fa-solid fa-star-half-stroke"></i>
                              <i class="fa-regular fa-star"></i>
                          </div>
                          <p class="card-text">
                            <% if (item.product_price_promotion !== '0.00') { %>
                              ฿<%= item.product_price_promotion %> 
                              <span style="color: grey; text-decoration: line-through; font-size: 14px;">
                                ฿<%= item.product_price %>
                              </span>
                            <% } else { %>
                              ฿<%= item.product_price %>
                            <% } %>
                          </p>
                          
                              <form action="/add-to-cart" method="POST">
                                <input type="hidden" name="productId" value="<%= item.product_id %>">
                                <button class="btn btn-warning w-75" style="border-radius: 10px;" type="submit">Add to Cart</button>
                              </form>
                      </div>
                  </div>
                  </a>
                </div>
            </div>
            <% }); %>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel1" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#myCarousel1" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    </div>
    </div>


    <div class="container py-4 carousel-slider">
      <hr class="bg-mute border-2 border-top border-mute" />
      <div class="row gy-4">
        <div class="col-12">
          <div>
            <h5 class="" >Flash Sale <a href="#" class="h6 text-primary" style="float: right">View all></a> </h5>
          </div>
        </div>
        <div id="myCarousel2" class="carousel slide container"  data-bs-interval="100000" data-bs-ride="carousel">
          <div class="carousel-inner w-100">
              <% ListItems.forEach((item , index) => { %>
                  <div class="carousel-item <%= index === 0 ? 'active' : '' %>" data-bs-interval="false">
                  <div class="col-4 col-lg-2">
                    <a href="/product?bookID=<%= encodeURIComponent(item.product_id) %>&productName=<%= encodeURIComponent(item.product_name) %>" class="text-dark" style="text-decoration: none;">
                      <div class="card border-0 position-relative" >
                          <img src="<%= item.Path %>" class="card-img-top" alt="...">
                          <% if (item.product_price_promotion !== '0.00') { %>
                              <div class="sale-div position-absolute badge badge-success  p-2 m-2">Sale!</div><% } %>
                          <div class="card-body px-0">
                              <h6 class="card-title text"><%= item.product_name %></h6>
                              <div class="stars">
                                  <i class="fa fa-star"></i>
                                  <i class="fa fa-star"></i>
                                  <i class="fa fa-star"></i>
                                  <i class="fa-solid fa-star-half-stroke"></i>
                                  <i class="fa-regular fa-star"></i>
                              </div>
                              <p class="card-text">
                                <% if (item.product_price_promotion !== '0.00') { %>
                                  ฿<%= item.product_price_promotion %> 
                                  <span style="color: grey; text-decoration: line-through; font-size: 14px;">
                                    ฿<%= item.product_price %>
                                  </span>
                                <% } else { %>
                                  ฿<%= item.product_price %>
                                <% } %>
                              </p>
                              
                                  <form action="/add-to-cart" method="POST">
                                    <input type="hidden" name="productId" value="<%= item.product_id %>">
                                    <button class="btn btn-warning w-75" style="border-radius: 10px;" type="submit">Add to Cart</button>
                                  </form>
                          </div>
                      </div>
                    </a>
                  </div>
              </div>
              <% }); %>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel2" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#myCarousel2" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
          </button>
      </div>
      </div>
      </div>    



      <div class="container py-4 carousel-slider">
        <hr class="bg-mute border-2 border-top border-mute" />
        <div class="row gy-4">
          <div class="col-12">
            <div>
              <h5 class="" >New Release <a href="#" class="h6 text-primary" style="float: right">View all></a> </h5>
            </div>
          </div>
          <div id="myCarousel3" class="carousel slide container"  data-bs-interval="100000" data-bs-ride="carousel">
            <div class="carousel-inner w-100">
                <% NewRelease.forEach((item , index) => { %>
                    <div class="carousel-item <%= index === 0 ? 'active' : '' %>" data-bs-interval="false">
                    <div class="col-4 col-lg-2">
                      <a href="/product?bookID=<%= encodeURIComponent(item.product_id) %>&productName=<%= encodeURIComponent(item.product_name) %>" class="text-dark" style="text-decoration: none;">
                        <div class="card border-0 position-relative" >
                            <img src="<%= item.Path %>" class="card-img-top" alt="...">
                            <% if (item.product_price_promotion !== '0.00') { %>
                                <div class="sale-div position-absolute badge badge-success  p-2 m-2">Sale!</div><% } %>
                            <div class="card-body px-0">
                                <h6 class="card-title text"><%= item.product_name %></h6>
                                <div class="stars">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa-solid fa-star-half-stroke"></i>
                                    <i class="fa-regular fa-star"></i>
                                </div>
                                <p class="card-text">
                                  <% if (item.product_price_promotion !== '0.00') { %>
                                    ฿<%= item.product_price_promotion %> 
                                    <span style="color: grey; text-decoration: line-through; font-size: 14px;">
                                      ฿<%= item.product_price %>
                                    </span>
                                  <% } else { %>
                                    ฿<%= item.product_price %>
                                  <% } %>
                                </p>
                                
                                    <form action="/add-to-cart" method="POST">
                                      <input type="hidden" name="productId" value="<%= item.product_id %>">
                                      <button class="btn btn-warning w-75" style="border-radius: 10px;" type="submit">Add to Cart</button>
                                    </form>
                            </div>
                        </div>
                      </a>
                    </div>
                </div>
                <% }); %>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel3" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#myCarousel3" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        </div>
        </div>


<%- include('partials/footer'); %>

<script type="text/javascript">
  $(document).ready(function() {
    $('.carousel-slider .carousel .carousel-item').each(function() {
      var minPerSlide = 6;
      var next = $(this).next();
      if (!next.length) {
        next = $(this).siblings(':first');
      }
      next.children(':first-child').clone().appendTo($(this));

      for (var i = 0; i < minPerSlide; i++) {
        next = next.next();
        if (!next.length) {
          next = $(this).siblings(':first');
        }
        next.children(':first-child').clone().appendTo($(this));
      }
    });
  });
</script>

</body>
</html>